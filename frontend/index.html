<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crime Watch - Crime Statistics</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        h1, h2 {
            color: #333;
            text-align: center;
        }
        .carousel-item img {
            max-height: 500px;
            object-fit: cover;
        }
        .stats-section {
            background-color: #f8f9fa;
            padding: 50px 20px;
        }
        .stats-card {
            transition: transform 0.3s ease-in-out;
        }
        .stats-card:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">Crime Watch</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="addUser.html">Add User</a></li>
                <li class="nav-item"><a class="nav-link" href="addAdmin.html">Add Admin</a></li>
                <li class="nav-item"><a class="nav-link" href="loginUser.html">Login as User</a></li>
                <li class="nav-item"><a class="nav-link" href="loginAdmin.html">Login as Admin</a></li>
            </ul>
        </div>
    </nav>

    <!-- Carousel Section -->
    <div id="crimeCarousel" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="crime-rate-india.png" class="d-block w-100" alt="Crime Rate in India">
                <div class="carousel-caption d-none d-md-block">
                    <h5>Crime Rate in India</h5>
                    <p>Explore the crime statistics across different states in India.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="https://via.placeholder.com/1200x500" class="d-block w-100" alt="Crime Prevention">
                <div class="carousel-caption d-none d-md-block">
                    <h5>Crime Prevention Strategies</h5>
                    <p>Learn about ways to reduce crime and create safer communities.</p>
                </div>
            </div>
        </div>
        <a class="carousel-control-prev" href="#crimeCarousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#crimeCarousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <!-- Statistics Section -->
    <section class="stats-section">
        <div class="container">
            <h2>Crime Statistics in India</h2>
            <p class="text-center">The crime rate in India has decreased from 487.8 in 2020 to 445.9 in 2021. Below are some key insights:</p>
            <div class="row">
                <div class="col-md-4">
                    <div class="card stats-card shadow-sm">
                        <div class="card-body text-center">
                            <h5 class="card-title">Highest Crime Rate</h5>
                            <p class="card-text">Delhi has the highest crime rate in 2021.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card stats-card shadow-sm">
                        <div class="card-body text-center">
                            <h5 class="card-title">Lowest Crime Rate</h5>
                            <p class="card-text">D&N Haveli and Daman & Diu have the lowest crime rate in 2021.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card stats-card shadow-sm">
                        <div class="card-body text-center">
                            <h5 class="card-title">Highest Rape Rate</h5>
                            <p class="card-text">Rajasthan has the highest rape rate in 2021.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-5">
        <div class="container">
            <h2 class="text-center mb-4">Share Your Insights on Crime Records</h2>
            <p class="text-center mb-4">
                Help us improve by sharing your feedback, suggestions, or any insights related to crime records in India. Your input is valuable in creating a safer community.
            </p>
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <form id="contactForm">
                        <div class="mb-3">
                            <input type="text" id="contactName" class="form-control" placeholder="Your Name" required>
                        </div>
                        <div class="mb-3">
                            <input type="email" id="contactEmail" class="form-control" placeholder="Your Email" required>
                        </div>
                        <div class="mb-3">
                            <textarea id="contactMessage" class="form-control" rows="4" placeholder="Your Message or Suggestions" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary w-100">Submit Feedback</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container-fluid bg-dark text-white-50 py-5 px-sm-3 px-lg-5">
            <div class="row pt-5">
                <div class="col-lg-3 col-md-6 mb-5">
                    <a href="" class="navbar-brand">
                        <h1 class="text-primary"><span class="text-white">Trip</span>Trial</h1>
                    </a>
                    <p>Explore the world with TripTrial! Discover top travel destinations, expert tips, and personalized itineraries to make your journey unforgettable. Stay connected with us for the latest updates and travel inspiration. Safe travels and happy exploring!</p>
                    <h6 class="text-white text-uppercase mt-4 mb-3">Support Us</h6>
                </div>
                <div class="col-lg-3 col-md-6 mb-5">
                    <h5 class="text-white text-uppercase mb-4">Our Services</h5>
                    <div class="d-flex flex-column justify-content-start">
                        <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Home</a>
                        <a class="text-white-50 mb-2" href="addUser.html"><i class="fa fa-angle-right mr-2"></i>Add User</a>
                        <a class="text-white-50 mb-2" href="addAdmin.html"><i class="fa fa-angle-right mr-2"></i>Add admin</a>
                        <a class="text-white-50 mb-2" href="loginUser.html"><i class="fa fa-angle-right mr-2"></i>Login As User</a>
                        <a class="text-white-50 mb-2" href="loginAdmin.html"><i class="fa fa-angle-right mr-2"></i>Login As Admin</a>
                        <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Life@Inida</a>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-5"></div>
                <div class="col-lg-3 col-md-6 mb-5">
                    <h5 class="text-white text-uppercase mb-4">Address</h5>
                    <p><i class="fa fa-map-marker-alt mr-2"></i>Pune Street, Maharashtra, India</p>
                    <p><i class="fa fa-phone-alt mr-2"></i>+91 95793 25554</p>
                    <p><i class="fa fa-envelope mr-2"></i>shivanandsatao@gmail.com</p>
                    <h6 class="text-white text-uppercase mt-4 mb-3">Newsletter</h6>
                    <div class="w-100">
                        <div class="input-group">
                            <input type="text" class="form-control border-light" placeholder="Any Suggestions">
                            <div class="input-group-append">
                                <button class="btn btn-primary px-3">Sign Up</button>
                            </div>
                        </div>
                    </div>
                </div>  
            </div>
        </div>
        <div class="container-fluid bg-dark text-white border-top py-4 px-sm-3 px-md-5">
            <div class="row">
                <div class="col-lg-6 text-center text-md-left mb-3 mb-md-0">
                    <p class="m-0 text-white-50">Copyright &copy; <a href="#">Domain</a>. All Rights Reserved.</a></p>
                </div>
                <div class="col-lg-6 text-center text-md-right">
                    <p class="m-0 text-white-50">Designed by <a href="https://htmlcodex.com">Shivanand Satao</a></p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        $(document).ready(function () {
            // Add animation to stats cards
            $('.stats-card').hover(function () {
                $(this).addClass('shadow-lg');
            }, function () {
                $(this).removeClass('shadow-lg');
            });

            // Handle contact form submission
            $('#contactForm').on('submit', async function (e) {
                e.preventDefault(); // Prevent default form submission

                const data = {
                    name: $('#contactName').val(),
                    email: $('#contactEmail').val(),
                    message: $('#contactMessage').val()
                };

                try {
                    const response = await fetch('http://localhost:3000/submitResponse', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(data)
                    });

                    if (!response.ok) {
                        throw new Error('Failed to send feedback');
                    }

                    const result = await response.json();
                    alert(result.message || 'Thank you for your feedback!');
                    $('#contactForm')[0].reset(); // Reset the form
                } catch (error) {
                    console.error('Error:', error);
                    alert('Error sending feedback. Please try again later.');
                }
            });
        });

        // Server-side code for handling feedback submission
        const express = require('express');
        const app = express();
        const pool = require('./db'); // Assuming a database connection pool is set up

        app.use(express.json());

        app.post('/submitResponse', async (req, res) => {
            const { email, name, message } = req.body;
            const query = 'INSERT INTO response (email, name, message, created_at) VALUES (?, ?, ?, NOW())';
            try {
                const [results] = await pool.query(query, [email, name, message]);
                res.status(201).json({ message: 'Response submitted successfully', responseId: results.insertId });
            } catch (error) {
                console.error('Error submitting response:', error);
                res.status(500).json({ message: error.message });
            }
        });
    </script>
</body>
</html>